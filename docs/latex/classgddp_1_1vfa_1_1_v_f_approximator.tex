\hypertarget{classgddp_1_1vfa_1_1_v_f_approximator}{}\section{gddp.\+vfa.\+V\+F\+Approximator Class Reference}
\label{classgddp_1_1vfa_1_1_v_f_approximator}\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
Inheritance diagram for gddp.\+vfa.\+V\+F\+Approximator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classgddp_1_1vfa_1_1_v_f_approximator}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_abe39aff2fd28268fc81a555b4d362a6b}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, system, solver=\textquotesingle{}gurobi\textquotesingle{})
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a9083527d48dc57388dada7e7e39d23b3}{create\+\_\+audit\+\_\+samples}} (self, n\+\_\+s, seed=None)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a612636b5857332f4798eab6dade1f729}{create\+\_\+vfa\+\_\+model}} (self)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a35cb7f0c41c6bf65e709427245fff417}{update\+\_\+constraints\+\_\+for\+\_\+xhat}} (self, xhat, xplus\+\_\+constraint)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_af7e7b99c9816b5c809ea1a4b90c67df5}{solve\+\_\+for\+\_\+xhat}} (self, xhat, print\+\_\+sol=False, extract\+\_\+constr=True, print\+\_\+errors=False, iter\+\_\+no=None, alt\+\_\+bound=False, xplus\+\_\+constraint=None)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_afe4afaeb655002330027b925b77e8cc2}{eval\+\_\+u\+\_\+cost}} (self, u, xhat, just\+\_\+return\+\_\+cost=False)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a5f5aa5208b059f55b4db350c4d5e1cc5}{add\+\_\+alpha\+\_\+constraint}} (self, constr\+\_\+in, was\+\_\+temp\+\_\+removed=False, temp\+\_\+add=False)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a171722a3e9865a9eef226025e7a9425b}{remove\+\_\+alpha\+\_\+constraint}} (self, constr\+\_\+in, was\+\_\+temp\+\_\+added=False, temp\+\_\+remove=False)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a9ed1c360f3f89aab1b0f5da4e2dc270f}{reset\+\_\+model\+\_\+constraints}} (self)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_afc1eaa9e77b92694ff7deab9ebfc33ed}{remove\+\_\+redundant\+\_\+lbs}} (self, n\+\_\+samples, threshold=0., sigma\+\_\+in=1., mu\+\_\+in=1.)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a9dadd3236516d9054fba6eff668a11fd}{eval\+\_\+vfa}} (self, x\+\_\+in)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_ad87136687e35dfb1127c56a10f1656c8}{audit\+\_\+gurobi\+\_\+constraint\+\_\+info}} (self)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a29c731e88e000f0c991b7622f37a087d}{plot\+\_\+vfa}} (self, iter\+\_\+no=None, save=False, output\+\_\+dir=None)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a6e8aef44abde4c6a1d2bce5474296143}{print\+\_\+function\+\_\+approximation}} (self, command\+\_\+line=True, save=False)
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a0014d4fd4089c0bcb530980069c921f6}\label{classgddp_1_1vfa_1_1_v_f_approximator_a0014d4fd4089c0bcb530980069c921f6}} 
def {\bfseries save\+\_\+function\+\_\+approximation} (self)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a6dc19f7ef850e3568f3614abf1c6680c}{plot\+\_\+policy}} (self, iter\+\_\+no=None, save=False, output\+\_\+dir=None, policy\+\_\+in=None)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a47860c0b82526ed12ecca7f058aaaa03}{plot\+\_\+xalg\+\_\+be}} (self, xalg\+\_\+v\+\_\+of\+\_\+x, xalg\+\_\+tv\+\_\+of\+\_\+x)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a088e2efabc1d0b07a228a5cb1ce2dfe9}{output\+\_\+convergence\+\_\+results}} (self, data\+\_\+in, nx, output\+\_\+dir)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_aa89311e9d746f68aa2a788111434825c}{measure\+\_\+many\+\_\+cl\+\_\+upper\+\_\+bounds}} (self, x\+\_\+list, n\+\_\+steps, j, no\+\_\+input=False)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a94eff4146cf2136eee4ee81fcf44bdd3}{measure\+\_\+ind\+\_\+bellman\+\_\+gap}} (self)
\item 
def \mbox{\hyperlink{classgddp_1_1vfa_1_1_v_f_approximator_a8eab71f7f7d2f248904874fc364fedc5}{approximate}} (self, strategy\+\_\+in=None, audit\+\_\+in=None, outputs\+\_\+in=None)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aaa7a1f327ae249e7ef4bd54ad1bd96e5}\label{classgddp_1_1vfa_1_1_v_f_approximator_aaa7a1f327ae249e7ef4bd54ad1bd96e5}} 
{\bfseries m}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aafa8fd790a7b57ca31d6255142c025c4}\label{classgddp_1_1vfa_1_1_v_f_approximator_aafa8fd790a7b57ca31d6255142c025c4}} 
{\bfseries n}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aba4288f7bedcfdc0b95131f969b0666e}\label{classgddp_1_1vfa_1_1_v_f_approximator_aba4288f7bedcfdc0b95131f969b0666e}} 
{\bfseries n\+\_\+beta}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_acc478bc8dd32e0d6d7e00bb7c9ffa1e7}\label{classgddp_1_1vfa_1_1_v_f_approximator_acc478bc8dd32e0d6d7e00bb7c9ffa1e7}} 
{\bfseries s}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_af3e1d8d3a805b37cb0d4921ef6775f8d}\label{classgddp_1_1vfa_1_1_v_f_approximator_af3e1d8d3a805b37cb0d4921ef6775f8d}} 
{\bfseries mod}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a7294b15adc4a9c98af1f0fb5520c33dc}\label{classgddp_1_1vfa_1_1_v_f_approximator_a7294b15adc4a9c98af1f0fb5520c33dc}} 
{\bfseries solver}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a8dd5764832610d9e733e2bfe62cc2be5}\label{classgddp_1_1vfa_1_1_v_f_approximator_a8dd5764832610d9e733e2bfe62cc2be5}} 
{\bfseries total\+\_\+solver\+\_\+time}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_ab86c19e19730a705e6c218b5ee4c9f52}\label{classgddp_1_1vfa_1_1_v_f_approximator_ab86c19e19730a705e6c218b5ee4c9f52}} 
{\bfseries one\+\_\+stage\+\_\+problems\+\_\+solved}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_ab1b5e5ba1e6f8be0e05f2d17a7c7199d}\label{classgddp_1_1vfa_1_1_v_f_approximator_ab1b5e5ba1e6f8be0e05f2d17a7c7199d}} 
{\bfseries b\+\_\+gap\+\_\+eval\+\_\+time}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aad7e1ea961a4de44d8a058e2b2d0bd32}\label{classgddp_1_1vfa_1_1_v_f_approximator_aad7e1ea961a4de44d8a058e2b2d0bd32}} 
{\bfseries v\+\_\+integral\+\_\+eval\+\_\+time}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a7a024c74d54a59df9b004acc48e1c9d4}\label{classgddp_1_1vfa_1_1_v_f_approximator_a7a024c74d54a59df9b004acc48e1c9d4}} 
{\bfseries lb\+\_\+computation\+\_\+time}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a008f30aead3be88df06d83c8e131802b}\label{classgddp_1_1vfa_1_1_v_f_approximator_a008f30aead3be88df06d83c8e131802b}} 
{\bfseries alpha\+\_\+c\+\_\+list}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_ab763249f1d0ce09b313e02e736c44fe3}\label{classgddp_1_1vfa_1_1_v_f_approximator_ab763249f1d0ce09b313e02e736c44fe3}} 
{\bfseries alpha\+\_\+c\+\_\+in\+\_\+model}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aa47df5b581732ca1d8bfae50b22e6428}\label{classgddp_1_1vfa_1_1_v_f_approximator_aa47df5b581732ca1d8bfae50b22e6428}} 
{\bfseries x\+\_\+visited}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_af44a381b9902186f18dfc1f1398df7ab}\label{classgddp_1_1vfa_1_1_v_f_approximator_af44a381b9902186f18dfc1f1398df7ab}} 
{\bfseries final\+\_\+j}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a30a521b94d6fc1de1c4ec19d8d2f5319}\label{classgddp_1_1vfa_1_1_v_f_approximator_a30a521b94d6fc1de1c4ec19d8d2f5319}} 
{\bfseries v\+\_\+integral}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aaec5481e969749ab1d985ac64113cfe2}\label{classgddp_1_1vfa_1_1_v_f_approximator_aaec5481e969749ab1d985ac64113cfe2}} 
{\bfseries v\+\_\+n\+\_\+ind\+\_\+samples}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a882967b144664d6e0640add5f67e258f}\label{classgddp_1_1vfa_1_1_v_f_approximator_a882967b144664d6e0640add5f67e258f}} 
{\bfseries v\+\_\+integral\+\_\+x\+\_\+list}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a638bc8c62dc399e0146a6f3977b1d24e}\label{classgddp_1_1vfa_1_1_v_f_approximator_a638bc8c62dc399e0146a6f3977b1d24e}} 
{\bfseries default\+\_\+strategy}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a7eb604588cc12a4c196e9c481f93045a}\label{classgddp_1_1vfa_1_1_v_f_approximator_a7eb604588cc12a4c196e9c481f93045a}} 
{\bfseries default\+\_\+audit}
\item 
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_af45879944f2301e629e04f58d5cee18b}\label{classgddp_1_1vfa_1_1_v_f_approximator_af45879944f2301e629e04f58d5cee18b}} 
{\bfseries default\+\_\+outputs}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}VFApproximator generates approximate value functions for continuous state and action
problems. Initialised with the system in question, which includes cost function, discount rate
etc.
\end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_abe39aff2fd28268fc81a555b4d362a6b}\label{classgddp_1_1vfa_1_1_v_f_approximator_abe39aff2fd28268fc81a555b4d362a6b}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{system,  }\item[{}]{solver = {\ttfamily \textquotesingle{}gurobi\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Initialize VFApproximator object.

:param system: System object on which the value function approximator will act
:param solver: Solver to use ('gurobi' or None)
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classgddp_1_1qfa_1_1_q_f_approximator_a93a03d1246461e93c47cb88b8991cae8}{gddp.\+qfa.\+Q\+F\+Approximator}}.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a5f5aa5208b059f55b4db350c4d5e1cc5}\label{classgddp_1_1vfa_1_1_v_f_approximator_a5f5aa5208b059f55b4db350c4d5e1cc5}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!add\_alpha\_constraint@{add\_alpha\_constraint}}
\index{add\_alpha\_constraint@{add\_alpha\_constraint}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{add\_alpha\_constraint()}{add\_alpha\_constraint()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+add\+\_\+alpha\+\_\+constraint (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{constr\+\_\+in,  }\item[{}]{was\+\_\+temp\+\_\+removed = {\ttfamily False},  }\item[{}]{temp\+\_\+add = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Add a value function lower-bounding constraint to the solver model (in case a solver is
being used) and in any case, add it to the book-keeping list of all constraints currently in
the model.

:param constr_in: Constraint object to add to the model
:param was_temp_removed: Boolean. If True, constr_in.in_model = True, but is not in model
:param temp_add: Boolean. If True, add to gurobi model but don't set constr_in.in_model.
:return: nothing
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classgddp_1_1qfa_1_1_q_f_approximator_a9a577ac6db94ba649cf8e9be227761cc}{gddp.\+qfa.\+Q\+F\+Approximator}}.

\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a8eab71f7f7d2f248904874fc364fedc5}\label{classgddp_1_1vfa_1_1_v_f_approximator_a8eab71f7f7d2f248904874fc364fedc5}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!approximate@{approximate}}
\index{approximate@{approximate}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{approximate()}{approximate()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+approximate (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{strategy\+\_\+in = {\ttfamily None},  }\item[{}]{audit\+\_\+in = {\ttfamily None},  }\item[{}]{outputs\+\_\+in = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create an iterative approximation of the value function for the system self.s

:param strategy_in: Dictionary of parameters describing the solution strategy
:param audit_in: Dict of parameters describing how progress should be tracked during solution
:param outputs_in: Dict of parameters determining outputs produced
:return: Convergence data structure
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classgddp_1_1qfa_1_1_q_f_approximator_aab82083cc8e6b64cc0bedc47532f865f}{gddp.\+qfa.\+Q\+F\+Approximator}}.

\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_ad87136687e35dfb1127c56a10f1656c8}\label{classgddp_1_1vfa_1_1_v_f_approximator_ad87136687e35dfb1127c56a10f1656c8}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!audit\_gurobi\_constraint\_info@{audit\_gurobi\_constraint\_info}}
\index{audit\_gurobi\_constraint\_info@{audit\_gurobi\_constraint\_info}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{audit\_gurobi\_constraint\_info()}{audit\_gurobi\_constraint\_info()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+audit\+\_\+gurobi\+\_\+constraint\+\_\+info (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Output basic information about constraints in a Gurobi solver model.\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a9083527d48dc57388dada7e7e39d23b3}\label{classgddp_1_1vfa_1_1_v_f_approximator_a9083527d48dc57388dada7e7e39d23b3}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!create\_audit\_samples@{create\_audit\_samples}}
\index{create\_audit\_samples@{create\_audit\_samples}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{create\_audit\_samples()}{create\_audit\_samples()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+create\+\_\+audit\+\_\+samples (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{n\+\_\+s,  }\item[{}]{seed = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create set of independent samples on which value function approximation quality will be
tested.

:param n_s: Number of samples
:param seed: Random number generator seed
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a612636b5857332f4798eab6dade1f729}\label{classgddp_1_1vfa_1_1_v_f_approximator_a612636b5857332f4798eab6dade1f729}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!create\_vfa\_model@{create\_vfa\_model}}
\index{create\_vfa\_model@{create\_vfa\_model}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{create\_vfa\_model()}{create\_vfa\_model()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+create\+\_\+vfa\+\_\+model (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create an initialized value function approximation model, setting up optimization
variables and solver settings. Also create zero lower bounding function on optimal value
function.

:return: nothing
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classgddp_1_1qfa_1_1_q_f_approximator_a955edba3bc147309cbc8d786e6cbc2db}{gddp.\+qfa.\+Q\+F\+Approximator}}.

\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_afe4afaeb655002330027b925b77e8cc2}\label{classgddp_1_1vfa_1_1_v_f_approximator_afe4afaeb655002330027b925b77e8cc2}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!eval\_u\_cost@{eval\_u\_cost}}
\index{eval\_u\_cost@{eval\_u\_cost}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{eval\_u\_cost()}{eval\_u\_cost()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+eval\+\_\+u\+\_\+cost (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{u,  }\item[{}]{xhat,  }\item[{}]{just\+\_\+return\+\_\+cost = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Evaluate 1-stage cost + cost-to-go for a given input u

:param u: m-element vector, input to apply
:param xhat: n-element vector, current state
:param just_return_cost: Boolean, if false return stage cost + cost-to-go. Else beta & alpha
:return: Cost
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a9dadd3236516d9054fba6eff668a11fd}\label{classgddp_1_1vfa_1_1_v_f_approximator_a9dadd3236516d9054fba6eff668a11fd}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!eval\_vfa@{eval\_vfa}}
\index{eval\_vfa@{eval\_vfa}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{eval\_vfa()}{eval\_vfa()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+eval\+\_\+vfa (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{x\+\_\+in }\end{DoxyParamCaption})}

\begin{DoxyVerb}Evaluates lower bound (max of all LB functions) at x_in by evaluating all LBs\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a94eff4146cf2136eee4ee81fcf44bdd3}\label{classgddp_1_1vfa_1_1_v_f_approximator_a94eff4146cf2136eee4ee81fcf44bdd3}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!measure\_ind\_bellman\_gap@{measure\_ind\_bellman\_gap}}
\index{measure\_ind\_bellman\_gap@{measure\_ind\_bellman\_gap}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{measure\_ind\_bellman\_gap()}{measure\_ind\_bellman\_gap()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+measure\+\_\+ind\+\_\+bellman\+\_\+gap (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns mean Bellman Error (BE), TV(x) - V(x), for independently sampled points x

:return: Tuple of scalars (Mean BE, Mean relative BE, Max BE, Max relative BE)
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_aa89311e9d746f68aa2a788111434825c}\label{classgddp_1_1vfa_1_1_v_f_approximator_aa89311e9d746f68aa2a788111434825c}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!measure\_many\_cl\_upper\_bounds@{measure\_many\_cl\_upper\_bounds}}
\index{measure\_many\_cl\_upper\_bounds@{measure\_many\_cl\_upper\_bounds}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{measure\_many\_cl\_upper\_bounds()}{measure\_many\_cl\_upper\_bounds()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+measure\+\_\+many\+\_\+cl\+\_\+upper\+\_\+bounds (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{x\+\_\+list,  }\item[{}]{n\+\_\+steps,  }\item[{}]{j,  }\item[{}]{no\+\_\+input = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Measure upper bound on optimal value function at each entry in a list of x_list points,
by simulating the system for n_steps

:param x_list: List of n-element vectors to simulate the system from
:param n_steps: Integer number of points
:param j: Iteration number (acts differently after 0 iterations to save time)
:param no_input: Boolean. Set input u = 0 for upper bound calculation
:return: List of upper bounds, indices for which UBs were finite
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a088e2efabc1d0b07a228a5cb1ce2dfe9}\label{classgddp_1_1vfa_1_1_v_f_approximator_a088e2efabc1d0b07a228a5cb1ce2dfe9}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!output\_convergence\_results@{output\_convergence\_results}}
\index{output\_convergence\_results@{output\_convergence\_results}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{output\_convergence\_results()}{output\_convergence\_results()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+output\+\_\+convergence\+\_\+results (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{data\+\_\+in,  }\item[{}]{nx,  }\item[{}]{output\+\_\+dir }\end{DoxyParamCaption})}

\begin{DoxyVerb}Save CSV files and graphs in PDF form regarding convergence of the algorithm

:param data_in: Data structure containing quantities measured by iteration
:param nx: Number of elements in XAlg
:param output_dir: Output directory to save results to
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a6dc19f7ef850e3568f3614abf1c6680c}\label{classgddp_1_1vfa_1_1_v_f_approximator_a6dc19f7ef850e3568f3614abf1c6680c}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!plot\_policy@{plot\_policy}}
\index{plot\_policy@{plot\_policy}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{plot\_policy()}{plot\_policy()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+plot\+\_\+policy (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{iter\+\_\+no = {\ttfamily None},  }\item[{}]{save = {\ttfamily False},  }\item[{}]{output\+\_\+dir = {\ttfamily None},  }\item[{}]{policy\+\_\+in = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Save or plot control policy for 1 or 2 dimensions. In 2D, omputes the control policy at
every grid point unless policy_in is not None

:param iter_no: Iteration number to use as label in graph title/filename
:param save: Boolean. If true, saves plot. If false, shows on screen
:param output_dir: Output directory
:param policy_in: Tuple (x1 range, x2 range, policy values) for 2D policy plot
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a29c731e88e000f0c991b7622f37a087d}\label{classgddp_1_1vfa_1_1_v_f_approximator_a29c731e88e000f0c991b7622f37a087d}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!plot\_vfa@{plot\_vfa}}
\index{plot\_vfa@{plot\_vfa}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{plot\_vfa()}{plot\_vfa()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+plot\+\_\+vfa (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{iter\+\_\+no = {\ttfamily None},  }\item[{}]{save = {\ttfamily False},  }\item[{}]{output\+\_\+dir = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Plot value function approximation in 1 or 2 dimensions. Plot bounds and resolution are
currently hard-coded inside the function.

:param iter_no: Integer, iteration number
:param save: Boolean, save value function plot. If false, show on screen instead
:param output_dir: Output directory for plots
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a47860c0b82526ed12ecca7f058aaaa03}\label{classgddp_1_1vfa_1_1_v_f_approximator_a47860c0b82526ed12ecca7f058aaaa03}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!plot\_xalg\_be@{plot\_xalg\_be}}
\index{plot\_xalg\_be@{plot\_xalg\_be}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{plot\_xalg\_be()}{plot\_xalg\_be()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+plot\+\_\+xalg\+\_\+be (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{xalg\+\_\+v\+\_\+of\+\_\+x,  }\item[{}]{xalg\+\_\+tv\+\_\+of\+\_\+x }\end{DoxyParamCaption})}

\begin{DoxyVerb}Plots the Bellman error at all elements of the set XAlg (i.e. the sample points used in
the algorithm)

:param xalg_v_of_x: List of V(x) with length equal to no. of elements in XAlg
:param xalg_tv_of_x: List of TV(x) with length equal to no. of elements in XAlg
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a6e8aef44abde4c6a1d2bce5474296143}\label{classgddp_1_1vfa_1_1_v_f_approximator_a6e8aef44abde4c6a1d2bce5474296143}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!print\_function\_approximation@{print\_function\_approximation}}
\index{print\_function\_approximation@{print\_function\_approximation}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{print\_function\_approximation()}{print\_function\_approximation()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+print\+\_\+function\+\_\+approximation (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{command\+\_\+line = {\ttfamily True},  }\item[{}]{save = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Outputs a string representation of the function approximation, optionally also to file.

:param command_line: Boolean, print to command line
:param save: Boolean, save to text file
:return:
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a171722a3e9865a9eef226025e7a9425b}\label{classgddp_1_1vfa_1_1_v_f_approximator_a171722a3e9865a9eef226025e7a9425b}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!remove\_alpha\_constraint@{remove\_alpha\_constraint}}
\index{remove\_alpha\_constraint@{remove\_alpha\_constraint}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{remove\_alpha\_constraint()}{remove\_alpha\_constraint()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+remove\+\_\+alpha\+\_\+constraint (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{constr\+\_\+in,  }\item[{}]{was\+\_\+temp\+\_\+added = {\ttfamily False},  }\item[{}]{temp\+\_\+remove = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove a value function lower-bounding constraint from the solver model (in case solver
being used) and in any case, remove it from the book-keeping list of all constraints
currently in the model.

:param constr_in: Constraint object to remove from the model
:param was_temp_added: Boolean, whether Constraint was temporarily added
:param temp_remove: Boolean, whether to mark Constraint as temporarily removed
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_afc1eaa9e77b92694ff7deab9ebfc33ed}\label{classgddp_1_1vfa_1_1_v_f_approximator_afc1eaa9e77b92694ff7deab9ebfc33ed}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!remove\_redundant\_lbs@{remove\_redundant\_lbs}}
\index{remove\_redundant\_lbs@{remove\_redundant\_lbs}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{remove\_redundant\_lbs()}{remove\_redundant\_lbs()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+remove\+\_\+redundant\+\_\+lbs (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{n\+\_\+samples,  }\item[{}]{threshold = {\ttfamily 0.},  }\item[{}]{sigma\+\_\+in = {\ttfamily 1.},  }\item[{}]{mu\+\_\+in = {\ttfamily 1.} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Use a sampling approach to remove lower-bounding functions that are found not to be
active at a certain threshold number of points

:param n_samples: Number of Monte Carlo samples
:param threshold: Fraction of MC samples below which a constraint should be considered
    redundant
:param sigma_in: Standard deviation of MC samples (in all coordinates)
:param mu_in: Mean of MC samples (in all coordinates)
:return: nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a9ed1c360f3f89aab1b0f5da4e2dc270f}\label{classgddp_1_1vfa_1_1_v_f_approximator_a9ed1c360f3f89aab1b0f5da4e2dc270f}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!reset\_model\_constraints@{reset\_model\_constraints}}
\index{reset\_model\_constraints@{reset\_model\_constraints}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{reset\_model\_constraints()}{reset\_model\_constraints()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+reset\+\_\+model\+\_\+constraints (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove all constraints from the model and start with a zero lower-bounding function\end{DoxyVerb}
 \mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_af7e7b99c9816b5c809ea1a4b90c67df5}\label{classgddp_1_1vfa_1_1_v_f_approximator_af7e7b99c9816b5c809ea1a4b90c67df5}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!solve\_for\_xhat@{solve\_for\_xhat}}
\index{solve\_for\_xhat@{solve\_for\_xhat}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{solve\_for\_xhat()}{solve\_for\_xhat()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+solve\+\_\+for\+\_\+xhat (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{xhat,  }\item[{}]{print\+\_\+sol = {\ttfamily False},  }\item[{}]{extract\+\_\+constr = {\ttfamily True},  }\item[{}]{print\+\_\+errors = {\ttfamily False},  }\item[{}]{iter\+\_\+no = {\ttfamily None},  }\item[{}]{alt\+\_\+bound = {\ttfamily False},  }\item[{}]{xplus\+\_\+constraint = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Solve one-stage optimization problem, optionally returning a lower-bounding function
on the optimal value function.

:param xhat: Fixed state parameter to solve the one stage problem for
:param print_sol: Boolean, print solution details
:param extract_constr: Boolean, extract constraint (returns different values if so)
:param print_errors: Boolean, print error information
:param iter_no: Integer, iteration number of the GDDP algorithm
:param alt_bound: Boolean, return alternative lower-bounding function using other dual
:param xplus_constraint: e-element array or None, Force successor state to this value
:return: If extract_constr: new lower bound, (u*, x+*, beta*, alpha*)
 Otherwise: u*, optimal cost, stage cost
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classgddp_1_1qfa_1_1_q_f_approximator_aebd6f739abd857ff3f453f695a0176d3}{gddp.\+qfa.\+Q\+F\+Approximator}}.

\mbox{\Hypertarget{classgddp_1_1vfa_1_1_v_f_approximator_a35cb7f0c41c6bf65e709427245fff417}\label{classgddp_1_1vfa_1_1_v_f_approximator_a35cb7f0c41c6bf65e709427245fff417}} 
\index{gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}!update\_constraints\_for\_xhat@{update\_constraints\_for\_xhat}}
\index{update\_constraints\_for\_xhat@{update\_constraints\_for\_xhat}!gddp.vfa.VFApproximator@{gddp.vfa.VFApproximator}}
\subsubsection{\texorpdfstring{update\_constraints\_for\_xhat()}{update\_constraints\_for\_xhat()}}
{\footnotesize\ttfamily def gddp.\+vfa.\+V\+F\+Approximator.\+update\+\_\+constraints\+\_\+for\+\_\+xhat (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{xhat,  }\item[{}]{xplus\+\_\+constraint }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update constraint of optimization model to account for the current state, which enters
into the one-stage optimization as a fixed parameter.

:param xhat: Fixed state parameter for the problem
:param xplus_constraint: Add a constraint that the successor state should take a particular
value
:return: nothing
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
gddp/vfa.\+py\end{DoxyCompactItemize}
